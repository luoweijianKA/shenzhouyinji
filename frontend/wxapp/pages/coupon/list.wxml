<view class="list">
    <t-tabs defaultValue="all" bind:change="onTabsChange" sticky="true">
        <t-tab-panel label="全部" value="all">
            <view class="item" wx:for="{{list}}" wx:key="id">
                <coupon-item bindqrcode="handleQrcode" data-item="{{item}}" item="{{item}}" />
            </view>
        </t-tab-panel>
        <t-tab-panel label="兑换券（{{totalExchangeCount}}）" value="Exchange">
            <view class="item" wx:for="{{list}}" wx:key="id">
                <coupon-item bindqrcode="handleQrcode" data-item="{{item}}" item="{{item}}" />
            </view>
        </t-tab-panel>
        <t-tab-panel label="抵扣券（{{totalDeductionCount}}）" value="Deduction">
            <view class="item" wx:for="{{list}}" wx:key="id">
                <coupon-item bindqrcode="handleQrcode" data-item="{{item}}" item="{{item}}" />
            </view>
        </t-tab-panel>
    </t-tabs>
    <view class="footer">
        <view class="button">
            <t-button theme="primary" block bind:tap="handleHistory">历史记录</t-button>
        </view>
        <view class="button">
            <t-button theme="primary" variant="outline" block bind:tap="handleExchange">
                兑换优惠券
            </t-button>
        </view>
    </view>
</view>
<qrcode-popup visible="{{visible}}" qrcode="{{qrcode}}" />